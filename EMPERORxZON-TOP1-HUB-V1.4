-- EMPERORxZON-HUB v3.4 | النسخة النهائية مع زر ⚡ 3D و Tabs كاملة

local TweenService = game:GetService("TweenService")
local RS = game:GetService("RunService")
local Players = game:GetService("Players")
local UIS = game:GetService("UserInputService")
local pl = Players.LocalPlayer
local char = pl.Character or pl.CharacterAdded:Wait()
local hrp = char:WaitForChild("HumanoidRootPart")

-- ======= عرض المطور =======
local introGui = Instance.new("ScreenGui", game.CoreGui)
introGui.Name = "EMPEROR_Intro"
introGui.ZIndexBehavior = Enum.ZIndexBehavior.Global
local introLabel = Instance.new("TextLabel", introGui)
introLabel.Size = UDim2.new(0.5,0,0.15,0)
introLabel.Position = UDim2.new(0.5, -introLabel.Size.X.Offset/2, 0.5, -introLabel.Size.Y.Offset/2)
introLabel.Text = "- المطور أبو الحسن - حسين - .1._h -"
introLabel.BackgroundTransparency = 1
introLabel.TextScaled = true
introLabel.Font = Enum.Font.Antique
introLabel.TextStrokeTransparency = 0.7
RS.RenderStepped:Connect(function()
    local t = tick()*0.5
    introLabel.TextColor3 = Color3.fromHSV(t%1,1,1)
end)

task.delay(5, function()
    TweenService:Create(introLabel, TweenInfo.new(1.5, Enum.EasingStyle.Sine, Enum.EasingDirection.Out), {TextTransparency=1}):Play()
    task.wait(1.5)
    introGui:Destroy()

    -- ======= القائمة الرئيسية =======
    local sg = Instance.new("ScreenGui", game.CoreGui)
    sg.Name = "EMPERORxZON-HUB"
    sg.ZIndexBehavior = Enum.ZIndexBehavior.Global

    local screenSize = workspace.CurrentCamera.ViewportSize
    local isMobile = UIS.TouchEnabled and not UIS.KeyboardEnabled
    local mainWidth = isMobile and math.min(450, screenSize.X-50) or math.min(700, screenSize.X-50)
    local mainHeight = isMobile and math.min(300, screenSize.Y-50) or math.min(450, screenSize.Y-50)

    local mainFrame = Instance.new("Frame", sg)
    mainFrame.Size = UDim2.new(0, mainWidth, 0, mainHeight)
    mainFrame.Position = UDim2.new(0.5, -mainWidth/2, 0.5, -mainHeight/2)
    mainFrame.BackgroundColor3 = Color3.fromRGB(30,30,30)
    mainFrame.BorderSizePixel = 0
    mainFrame.ZIndex = 1

    local sidebarWidth = math.clamp(mainWidth*0.2, 120, 180)
    local sideBar = Instance.new("Frame", mainFrame)
    sideBar.Size = UDim2.new(0, sidebarWidth, 1, 0)
    sideBar.Position = UDim2.new(0,0,0,0)
    sideBar.BackgroundColor3 = Color3.fromRGB(35,35,35)
    sideBar.BorderSizePixel = 0

    local contentFrame = Instance.new("Frame", mainFrame)
    contentFrame.Size = UDim2.new(1, -sidebarWidth, 1, 0)
    contentFrame.Position = UDim2.new(0, sidebarWidth, 0, 0)
    contentFrame.BackgroundColor3 = Color3.fromRGB(40,40,40)
    contentFrame.BorderSizePixel = 0
    local innerFrame = contentFrame

    -- ===== زر ⚡ 3D =====
    local toggleBtnContainer = Instance.new("Frame", sg)
    toggleBtnContainer.Size = UDim2.new(0,70,0,70)
    toggleBtnContainer.Position = UDim2.new(1,-90,0.5,-35)
    toggleBtnContainer.BackgroundTransparency = 1
    toggleBtnContainer.ZIndex = 15

    local shadow = Instance.new("Frame", toggleBtnContainer)
    shadow.Size = UDim2.new(1,0,1,0)
    shadow.Position = UDim2.new(0,5,0,5)
    shadow.BackgroundColor3 = Color3.fromRGB(0,0,0)
    shadow.BackgroundTransparency = 0.6
    shadow.BorderSizePixel = 0
    shadow.ZIndex = 14
    shadow.ClipsDescendants = true

    local toggleBtn = Instance.new("TextLabel", toggleBtnContainer)
    toggleBtn.Size = UDim2.new(1,0,1,0)
    toggleBtn.Position = UDim2.new(0,0,0,0)
    toggleBtn.BackgroundTransparency = 1
    toggleBtn.Text = "⚡"
    toggleBtn.TextColor3 = Color3.fromRGB(255,255,0)
    toggleBtn.TextScaled = true
    toggleBtn.Font = Enum.Font.Antique
    toggleBtn.ZIndex = 15
    toggleBtn.TextStrokeColor3 = Color3.fromRGB(255,255,200)
    toggleBtn.TextStrokeTransparency = 0.5

    local glow = Instance.new("Frame", toggleBtn)
    glow.Size = UDim2.new(1.4,0,1.4,0)
    glow.Position = UDim2.new(-0.2,0,-0.2,0)
    glow.BackgroundColor3 = Color3.fromRGB(255,255,180)
    glow.BackgroundTransparency = 0.7
    glow.BorderSizePixel = 0
    glow.ZIndex = 13

    local lightningSound = Instance.new("Sound", toggleBtn)
    lightningSound.SoundId = "rbxassetid://9118821926"
    lightningSound.Volume = 1.8

    local menuOpen = true
    toggleBtn.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            lightningSound:Play()
            -- وميض ⚡ 3D
            task.spawn(function()
                for i = 1,3 do
                    toggleBtn.TextStrokeTransparency = 0
                    glow.BackgroundTransparency = 0.3
                    task.wait(0.06)
                    toggleBtn.TextStrokeTransparency = 0.5
                    glow.BackgroundTransparency = 0.7
                    task.wait(0.06)
                end
            end)
            menuOpen = not menuOpen
        end
    end)

    -- ===== دوال Tabs + سكربتات =====
    local function createTab(name, callback)
        local btn = Instance.new("TextButton", sideBar)
        btn.Size = UDim2.new(1,0,0,35)
        btn.Position = UDim2.new(0,0,0,(#sideBar:GetChildren()-1)*40)
        btn.Text = name
        btn.TextColor3 = Color3.new(1,1,1)
        btn.BackgroundColor3 = Color3.fromRGB(30,30,30)
        btn.BorderSizePixel = 0
        btn.MouseButton1Click:Connect(function()
            for _,child in pairs(contentFrame:GetChildren()) do
                child:Destroy()
            end
            callback()
        end)
    end

    local function addScriptButton(parent, name, url, y)
        local btn = Instance.new("TextButton", parent)
        btn.Size = UDim2.new(1,-20,0,30)
        btn.Position = UDim2.new(0,10,0,y)
        btn.Text = name
        btn.TextColor3 = Color3.new(1,1,1)
        btn.BackgroundColor3 = Color3.fromRGB(60,60,60)
        btn.BorderSizePixel = 0
        btn.MouseButton1Click:Connect(function()
            setclipboard(url)
            loadstring(game:HttpGet(url))()
        end)
    end

    -- ===== Tabs كاملة =====
    createTab("ماب بيوت", function()
        addScriptButton(contentFrame, "سكربت ماب بيوت", "https://rawscripts.net/raw/Brookhaven-RP-NetroZHub-49812", 20)
        addScriptButton(contentFrame, "سكربت مارتن العراقي", "https://rawscripts.net/raw/Brookhaven-RP-MARTIN-IRAQ-31476", 60)
        addScriptButton(contentFrame, "سكربت S7 ماب بيوت", "https://rawscripts.net/raw/Brookhaven-RP-S7-hub-30753", 100)
    end)

    createTab("بلوكس فروت", function()
        addScriptButton(contentFrame, "سكربت بلوكس فروت", "https://zuwz.me/Ls-Zee-Hub", 20)
        addScriptButton(contentFrame, "سكربت الوجهة الاخضر", "https://raw.githubusercontent.com/LuaCrack/Min/refs/heads/main/MinXt2Eng", 60)
    end)

    createTab("ماب سرقة", function()
        addScriptButton(contentFrame, "سكربت RTX المفتاح: RTXTOP1", "https://raw.githubusercontent.com/RTX261/RTXTOP1/refs/heads/main/RTX", 20)
        addScriptButton(contentFrame, "سكربت ماب سرقة اوبي", "https://raw.githubusercontent.com/Ninja10908/S4/refs/heads/main/Kurdhub", 60)
    end)

    createTab("ماب مزرعة", function()
        addScriptButton(contentFrame, "سكربت ماب مزرعه سبيد هوب", "https://raw.githubusercontent.com/AhmadV99/Speed-Hub-X/main/Speed%20Hub%20X.lua", 20)
        addScriptButton(contentFrame, "سكربت ماب مزرعه نو لاغ", "https://raw.githubusercontent.com/NoLagHubID/No-LagHUB/refs/heads/main/LoaderV1.lua", 60)
    end)

    createTab("اخرى", function()
        addScriptButton(contentFrame, "سكربت VR7", "https://raw.githubusercontent.com/VR7ss/OMK/refs/heads/main/VR7-ON-TOP", 20)
        addScriptButton(contentFrame, "سكربت مضاد رهيب", "https://rawscripts.net/raw/Universal-Script-JanHub-32893", 60)
    end)
end)
