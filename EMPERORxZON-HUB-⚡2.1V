-- EMPERORxZON-HUB v3.3 Ultimate (Full)
-- Ù…Ù…ÙŠØ²Ø§Øª: Ø­ÙØ¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª (Ù„Ùˆ Ù…ØªØ§Ø­Ø©) + Ø£Ù†ÙŠÙ…ÙŠØ´Ù† ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„ØªØ§Ø¨Ø§Øª + Ø«ÙŠÙ…Ø§Øª + Ø²Ø± ØªØ­Ø¯ÙŠØ« + Ø¥ØºÙ„Ø§Ù‚ Ù†Ù‡Ø§Ø¦ÙŠ + Ø´Ø±ÙŠØ· Ø­Ø§Ù„Ø©
-- Ù…Ù„Ø§Ø­Ø¸Ø©: Ø§Ù„Ø­ÙØ¸ ÙŠØ¹ØªÙ…Ø¯ Ø¹Ù„Ù‰ writefile/readfile Ùˆ HttpService:JSONEncode/Decode Ø¥Ù† ÙƒØ§Ù†Øª Ù…ØªØ§Ø­Ø© ÙÙŠ Ø§Ù„Ù€ executorØ› Ø¥Ù† Ù„Ù… ØªØªÙˆÙØ± ÙØ§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ØªØ­ÙØ¸ Ù…Ø¤Ù‚ØªÙ‹Ø§ Ø®Ù„Ø§Ù„ Ø§Ù„Ø¬Ù„Ø³Ø© ÙÙ‚Ø·.

local TweenService = game:GetService("TweenService")
local RS = game:GetService("RunService")
local UIS = game:GetService("UserInputService")
local Players = game:GetService("Players")
local HttpService = game:GetService("HttpService")

local pl = Players.LocalPlayer
local char = pl.Character or pl.CharacterAdded:Wait()
local hrp = char:WaitForChild("HumanoidRootPart")

-- Ø§Ø³Ù… Ù…Ù„Ù Ø§Ù„Ø­ÙØ¸
local saveFileName = "EMPERORxZON_HUB_Settings.json"

-- Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©
local settings = {
    lastTab = "Ù…Ø§Ø¨ Ø¨ÙŠÙˆØª",
    hubVisible = true,
    buttonPos = {scaleX = 1, offsetX = -90, scaleY = 0, offsetY = 20},
    theme = "Dark"
}

-- Ù…Ø­Ø§ÙˆÙ„Ø© ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ù…Ù† Ù…Ù„Ù Ù…Ø­Ù„ÙŠ (Ø¥Ù† ÙˆÙØ¬Ø¯ ÙˆØ¨ÙŠØ¦Ø© Ø§Ù„ØªÙ†ÙÙŠØ° ØªØ¯Ø¹Ù… writefile/readfile)
local function loadSettings()
    local ok, content = pcall(function()
        if readfile and isfile and isfile(saveFileName) then
            return readfile(saveFileName)
        else
            return nil
        end
    end)
    if ok and content and #content > 0 then
        local suc, data = pcall(function() return HttpService:JSONDecode(content) end)
        if suc and type(data) == "table" then
            for k,v in pairs(data) do settings[k] = v end
        end
    end
end

local function saveSettings()
    local ok = pcall(function()
        if writefile then
            local encoded = HttpService:JSONEncode(settings)
            writefile(saveFileName, encoded)
        end
    end)
    return ok
end

-- ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø¹Ù†Ø¯ Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©
pcall(loadSettings)

-- helper Ù„ØªØ­ÙˆÙŠÙ„ UDim2 Ù…Ø®Ø²Ù‘Ù† Ø¥Ù„Ù‰ Ù‚ÙŠÙ…Ø© UDim2
local function settingsToUDim2(t)
    if type(t) ~= "table" then
        return UDim2.new(1,-90,0,20)
    end
    return UDim2.new(t.scaleX or 1, t.offsetX or -90, t.scaleY or 0, t.offsetY or 20)
end

-- ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù‡Ø¨
local sg = Instance.new("ScreenGui")
sg.Name = "EMPERORxZON-HUB"
sg.ZIndexBehavior = Enum.ZIndexBehavior.Global
sg.Parent = game:GetService("CoreGui") -- Ù‚Ø¯ ÙŠØ®ØªÙ„Ù Ø­Ø³Ø¨ Ø§Ù„Ù€ executor

-- Ø´Ø±ÙŠØ· Ø§Ù„Ø­Ø§Ù„Ø© (Status)
local statusLabel = Instance.new("TextLabel", sg)
statusLabel.Size = UDim2.new(0,320,0,30)
statusLabel.Position = UDim2.new(0.5,-160,0,6)
statusLabel.BackgroundTransparency = 0.35
statusLabel.BackgroundColor3 = Color3.fromRGB(30,30,30)
statusLabel.TextColor3 = Color3.fromRGB(0,255,0)
statusLabel.TextScaled = true
statusLabel.BorderSizePixel = 0
statusLabel.Text = "âœ… EMPEROR HUB Ø¬Ø§Ù‡Ø²"

local function setStatus(text, color)
    statusLabel.Text = text or ""
    statusLabel.TextColor3 = color or Color3.fromRGB(0,255,0)
    -- Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø­Ø§Ù„Ø© Ù„Ù„Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ø¨Ø¹Ø¯ 3 Ø«ÙˆØ§Ù†ÙŠ
    spawn(function()
        wait(3)
        statusLabel.Text = "âœ… EMPEROR HUB Ø¬Ø§Ù‡Ø²"
        statusLabel.TextColor3 = Color3.fromRGB(0,255,0)
    end)
end

-- Ø§Ù„Ø¥Ø·Ø§Ø± Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ
local mainFrame = Instance.new("Frame", sg)
mainFrame.Size = UDim2.new(0,550,0,340)
mainFrame.Position = UDim2.new(0.5,-275,0.5,-170)
mainFrame.BackgroundColor3 = Color3.fromRGB(30,30,30)
mainFrame.BorderSizePixel = 0
mainFrame.ClipsDescendants = true
mainFrame.Visible = settings.hubVisible

-- Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠ
local sideBar = Instance.new("ScrollingFrame", mainFrame)
sideBar.Size = UDim2.new(0,140,1,0)
sideBar.Position = UDim2.new(0,0,0,0)
sideBar.BackgroundColor3 = Color3.fromRGB(25,25,25)
sideBar.BorderSizePixel = 0
sideBar.CanvasSize = UDim2.new(0,0,3,0)
sideBar.ScrollBarThickness = 8
sideBar.AutomaticCanvasSize = Enum.AutomaticSize.Y

-- Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ØªØ§Ø¨Ø§Øª Ù‡Ùˆ ScrollingFrame Ù„ÙŠØ³ Frame (Ø¹Ø´Ø§Ù† ÙÙŠÙ‡ Ø£Ø²Ø±Ø§Ø± ÙƒØ«ÙŠØ±Ø©)
local contentFrame = Instance.new("ScrollingFrame", mainFrame)
contentFrame.Size = UDim2.new(1,-140,1,0)
contentFrame.Position = UDim2.new(0,140,0,0)
contentFrame.BackgroundColor3 = Color3.fromRGB(35,35,35)
contentFrame.BorderSizePixel = 0
contentFrame.CanvasSize = UDim2.new(0,0,3,0)
contentFrame.ScrollBarThickness = 8
contentFrame.AutomaticCanvasSize = Enum.AutomaticSize.Y
contentFrame.VerticalScrollBarInset = Enum.ScrollBarInset.Always

-- Ø¯Ø§Ù„Ø© ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ù…Ø¹ Ø£Ù†ÙŠÙ…ÙŠØ´Ù† Fade
local function clearContent()
    for _,c in pairs(contentFrame:GetChildren()) do
        if not c:IsA("UIGridLayout") and not c:IsA("UIPadding") and not c:IsA("UITextSizeConstraint") then
            c:Destroy()
        end
    end
end

local function switchContent(callback)
    clearContent()
    contentFrame.BackgroundTransparency = 1
    if callback then callback() end
    TweenService:Create(contentFrame, TweenInfo.new(0.35, Enum.EasingStyle.Quad), {BackgroundTransparency = 0}):Play()
end

-- Ø¯Ø§Ù„Ø© Ø¥Ù†Ø´Ù€Ø§Ø¡ ØªØ§Ø¨
local tabButtons = {}
local function createTab(name, callback)
    local btn = Instance.new("TextButton", sideBar)
    btn.Size = UDim2.new(1,-10,0,32)
    btn.Position = UDim2.new(0,5,0,(#tabButtons)*36 + 6)
    btn.Text = name
    btn.TextColor3 = Color3.new(1,1,1)
    btn.BackgroundColor3 = Color3.fromHSV(math.random(),0.7,0.8)
    btn.BorderSizePixel = 0
    btn.TextScaled = true
    btn.AutoButtonColor = true

    btn.MouseButton1Click:Connect(function()
        settings.lastTab = name
        pcall(function() switchContent(callback) end)
        pcall(saveSettings)
    end)

    table.insert(tabButtons, btn)

    -- Ø¥Ø°Ø§ Ù‡Ø°Ø§ Ø¢Ø®Ø± ØªØ§Ø¨ ØªÙ… ÙØªØ­Ù‡ ÙÙ†Ø¹Ø±Ø¶Ù‡ ÙÙˆØ±Ù‹Ø§
    if settings.lastTab == name then
        pcall(function() switchContent(callback) end)
    end
end

-- Ø¯Ø§Ù„Ø© Ø¥Ø¶Ø§ÙØ© Ø²Ø± Ø³ÙƒØ±Ø¨Øª (Ù„Ù† ÙŠÙ‚ÙˆÙ… Ø¨Ø§Ù„Ù†Ø³Ø® Ø§Ù„Ø¢Ù† â€” ÙÙ‚Ø· ÙŠØ­Ù…Ù„ ÙˆÙŠØ´ØºÙ‘Ù„)
local function addScriptButton(parent, name, url, y)
    local btn = Instance.new("TextButton", parent)
    btn.Size = UDim2.new(1,-20,0,28)
    btn.Position = UDim2.new(0,10,0,y)
    btn.Text = name
    btn.TextColor3 = Color3.new(1,1,1)
    btn.BackgroundColor3 = Color3.fromHSV(math.random(),0.6,0.8)
    btn.BorderSizePixel = 0
    btn.TextScaled = true
    btn.MouseButton1Click:Connect(function()
        local ok, err = pcall(function()
            local code = game:HttpGet(url)
            local f = loadstring(code)
            if f then f() end
        end)
        if not ok then
            setStatus("âŒ ÙØ´Ù„ ØªØ´ØºÙŠÙ„: "..name, Color3.fromRGB(255,80,80))
            warn("EMPEROR HUB - failed to run:", name, err)
        else
            setStatus("âœ… ØªÙ… ØªØ´ØºÙŠÙ„: "..name, Color3.fromRGB(0,255,0))
        end
    end)
end

-- ========== ØªØ¹Ø±ÙŠÙ ÙƒÙ„ Ø§Ù„ØªØ§Ø¨Ø§Øª ÙˆØ§Ù„Ø³ÙƒØ±Ø¨ØªØ§Øª (Ù†Ù‚Ù„Øª ÙƒÙ„ Ø§Ù„Ø±ÙˆØ§Ø¨Ø· Ø§Ù„Ù„ÙŠ Ø£Ø¹Ø·ÙŠØªÙ†ÙŠ Ø¥ÙŠØ§Ù‡Ø§) ==========

createTab("Ù…Ø§Ø¨ Ø¨ÙŠÙˆØª", function()
    addScriptButton(contentFrame, "Ø³ÙƒØ±Ø¨Øª Ù…Ø§Ø¨ Ø¨ÙŠÙˆØª", "https://rawscripts.net/raw/Brookhaven-RP-NetroZHub-49812", 10)
    addScriptButton(contentFrame, "Ø³ÙƒØ±Ø¨Øª Ù…Ø§Ø±ØªÙ† Ø§Ù„Ø¹Ø±Ø§Ù‚ÙŠ", "https://rawscripts.net/raw/Brookhaven-RP-MARTIN-IRAQ-31476", 50)
    addScriptButton(contentFrame, "Ø³ÙƒØ±Ø¨Øª S7 Ù…Ø§Ø¨ Ø¨ÙŠÙˆØª", "https://rawscripts.net/raw/Brookhaven-RP-S7-hub-30753", 90)
    addScriptButton(contentFrame, "Ø³ÙƒØ±Ø¨Øª Ø§Ø³Ø·ÙˆØ±ÙŠ", "https://rawscripts.net/raw/Brookhaven-RP-K0-41546", 130)
    addScriptButton(contentFrame, "Ø³ÙƒØ±Ø¨Øª Ù…Ø§Ø¨ Ø¨ÙŠÙˆØª ØªØ®Ø±ÙŠØ¨ OPP", "https://rawscripts.net/raw/Universal-Script-SH-HUB-44927", 170)
    addScriptButton(contentFrame, "Ø³ÙƒØ±Ø¨Øª Ø³Ø§ÙŠÙƒÙˆ Ø§Ø³Ø·ÙˆØ±ÙŠ", "https://rawscripts.net/raw/Brookhaven-RP-Siko-hub-48511", 210)
end)

createTab("Blox Fruit", function()
    addScriptButton(contentFrame, "Ø³ÙƒØ±Ø¨Øª Blox Fruit", "https://zuwz.me/Ls-Zee-Hub", 10)
    addScriptButton(contentFrame, "Ø³ÙƒØ±Ø¨Øª Ø§Ù„ÙˆØ¬Ù‡Ø© Ø§Ù„Ø§Ø®Ø¶Ø± Ø§Ù„Ø§Ø³Ø·ÙˆØ±ÙŠ", "https://raw.githubusercontent.com/LuaCrack/Min/refs/heads/main/MinXt2Eng", 50)
    addScriptButton(contentFrame, "Ø³ÙƒØ±Ø¨Øª Ø§Ù„Ù‚Ù…Ø± Ø§Ù„Ù…ÙØªØ§Ø­:hHWIfdDuGh", "https://raw.githubusercontent.com/UserDevEthical/Loadstring/main/CokkaHub.lua", 90)
    addScriptButton(contentFrame, "Ø³ÙƒØ±Ø¨Øª Blox Fruit Ù‚Ø¯ÙŠÙ…", "https://raw.githubusercontent.com/LuaCrack/Min/refs/heads/main/MinXt2Eng", 130)
end)

createTab("Ù…Ø§Ø¨ Ø³Ø±Ù‚Ø©", function()
    addScriptButton(contentFrame, "Ø³ÙƒØ±Ø¨Øª RTX Ø§Ù„Ù…ÙØªØ§Ø­: RTXTOP1", "https://raw.githubusercontent.com/RTX261/RTXTOP1/refs/heads/main/RTX", 10)
    addScriptButton(contentFrame, "Ø³ÙƒØ±Ø¨Øª Ù…Ø§Ø¨ Ø³Ø±Ù‚Ø© Ø§ÙˆØ¨ÙŠ", "https://raw.githubusercontent.com/Ninja10908/S4/refs/heads/main/Kurdhub", 50)
    addScriptButton(contentFrame, "Ø³ÙƒØ±Ø¨Øª Ø§Ø®ØªÙØ§Ø¡", "https://pastefy.app/NU4lqGZe/raw", 90)
end)

createTab("Ù…Ø§Ø¨ Ù…Ø²Ø±Ø¹Ø©", function()
    addScriptButton(contentFrame, "Ø³ÙƒØ±Ø¨Øª Ù…Ø§Ø¨ Ù…Ø²Ø±Ø¹Ù‡ Ø³Ø¨ÙŠØ¯ Ù‡ÙˆØ¨", "https://raw.githubusercontent.com/AhmadV99/Speed-Hub-X/main/Speed%20Hub%20X.lua", 10)
    addScriptButton(contentFrame, "Ø³ÙƒØ±Ø¨Øª Ù…Ø§Ø¨ Ù…Ø²Ø±Ø¹Ù‡ Ù†Ùˆ Ù„Ø§Øº", "https://raw.githubusercontent.com/NoLagHubID/No-LagHUB/refs/heads/main/LoaderV1.lua", 50)
    addScriptButton(contentFrame, "Ø³ÙƒØ±Ø¨Øª ØªØ§Ù† Ù‡ÙˆØ¨", "https://raw.githubusercontent.com/thantzy/thanhub/refs/heads/main/thanv1", 90)
end)

createTab("Ù…Ø§Ø¨ 99 Ù„ÙŠÙ„Ø©", function()
    addScriptButton(contentFrame, "Ø³ÙƒØ±Ø¨Øª 99 Ù„ÙŠÙ„Ø©", "https://raw.githubusercontent.com/VapeVoidware/VWExtra/main/NightsInTheForest.lua", 10)
end)

createTab("Ø¨Ù„Ùˆ Ù„ÙˆÙƒ", function()
    addScriptButton(contentFrame, "ØªØ­ÙƒÙ… Ø¨Ø§Ù„ÙƒØ±Ø©", "https://raw.githubusercontent.com/RedJDark/CONTROL-SCRIPTT/refs/heads/main/CONTROL", 10)
    addScriptButton(contentFrame, "Ø³ÙƒØ±Ø¨Øª Ø¨Ù„Ùˆ Ù„ÙˆÙƒ", "https://raw.githubusercontent.com/Youifpg/ArbixHubV1/refs/heads/main/Source.lua", 50)
    addScriptButton(contentFrame, "Ø³ÙƒØ±Ø¨Øª Ø¨Ù„Ùˆ Ù„ÙˆÙƒ Ø«Ø§Ù†ÙŠ", "https://raw.githubusercontent.com/gumanba/Scripts/refs/heads/main/BlueLock", 90)
end)

createTab("Ù…Ø§Ø¨ Ù‚Ù†Ø¨Ù„Ø©", function()
    addScriptButton(contentFrame, "Ø³ÙƒØ±Ø¨Øª Ù…Ø§Ø¨ Ù‚Ù†Ø¨Ù„Ø©", "https://raw.githubusercontent.com/7yd7/Hub/refs/heads/Branch/Terms-of-Service.lua", 10)
    addScriptButton(contentFrame, "Ø³ÙƒØ±Ø¨Øª Ù…Ø§Ø¨ Ù‚Ù†Ø¨Ù„Ø© 2", "https://pastebin.com/raw/qgjTHReg", 50)
end)

createTab("Ø§Ø®Ø±Ù‰", function()
    addScriptButton(contentFrame, "Ø³ÙƒØ±Ø¨Øª VR7", "https://raw.githubusercontent.com/VR7ss/OMK/refs/heads/main/VR7-ON-TOP", 10)
    addScriptButton(contentFrame, "Ø³ÙƒØ±Ø¨Øª Ù…Ø¶Ø§Ø¯ Ø±Ù‡ÙŠØ¨ Ùˆ ØºÙŠØ±Ù‡", "https://rawscripts.net/raw/Universal-Script-JanHub-32893", 50)
    addScriptButton(contentFrame, "Ø³ÙƒØ±Ø¨Øª Ù†Ø³Ø® Ø§Ø¯Ù…Ù†-Ù…Ø§Ø¨Ø§Øª Ø§Ø¯Ù…Ù† ÙÙ‚Ø·!", "https://pastebin.com/raw/67zRS6vS", 90)
    addScriptButton(contentFrame, "Ø³ÙƒØ±Ø¨Øª ØµÙ…Ù„Ù‡", "https://rawscripts.net/raw/Universal-Script-BR3X-HUB-31339", 130)
end)

createTab("Ø¯ÙŠØ³ÙƒÙˆØ±Ø¯", function()
    local serverBtn = Instance.new("TextButton", contentFrame)
    serverBtn.Size = UDim2.new(1,-20,0,40)
    serverBtn.Position = UDim2.new(0,10,0,10)
    serverBtn.Text = "Ø³ÙŠØ±ÙØ±Ù†Ø§ - Ø§Ø¶ØºØ· Ù„Ù„Ù†Ø³Ø®"
    serverBtn.TextColor3 = Color3.fromRGB(0,255,0)
    serverBtn.BackgroundColor3 = Color3.fromRGB(50,50,50)
    serverBtn.BorderSizePixel = 0
    serverBtn.TextScaled = true
    serverBtn.MouseButton1Click:Connect(function()
        pcall(function() setclipboard("https://discord.gg/wYQyuh48t4") end)
        setStatus("ğŸ“‹ ØªÙ… Ù†Ø³Ø® Ø±Ø§Ø¨Ø· Ø§Ù„Ø³ÙŠØ±ÙØ±")
    end)

    local partnerBtn = Instance.new("TextButton", contentFrame)
    partnerBtn.Size = UDim2.new(1,-20,0,40)
    partnerBtn.Position = UDim2.new(0,10,0,60)
    partnerBtn.Text = "Ø³ÙŠØ±ÙØ± Ø§Ù„Ø´Ø±Ø§ÙƒØ© - Ø§Ø¶ØºØ· Ù„Ù„Ù†Ø³Ø®"
    partnerBtn.TextColor3 = Color3.fromRGB(0,255,0)
    partnerBtn.BackgroundColor3 = Color3.fromRGB(50,50,50)
    partnerBtn.BorderSizePixel = 0
    partnerBtn.TextScaled = true
    partnerBtn.MouseButton1Click:Connect(function()
        pcall(function() setclipboard("https://discord.gg/4GVbdjkT") end)
        setStatus("ğŸ“‹ ØªÙ… Ù†Ø³Ø® Ø±Ø§Ø¨Ø· Ø´Ø±Ø§ÙƒØ©")
    end)
end)

-- ØªØ§Ø¨ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª (Ø«ÙŠÙ…Ø§ØªØŒ ØªØ­Ø¯ÙŠØ«ØŒ Ø§ØºÙ„Ø§Ù‚)
createTab("Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª", function()
    local y = 10
    local themeBtn = Instance.new("TextButton", contentFrame)
    themeBtn.Size = UDim2.new(1,-20,0,40)
    themeBtn.Position = UDim2.new(0,10,0,y); y = y + 50
    themeBtn.Text = "ØªØºÙŠÙŠØ± Ø§Ù„Ø«ÙŠÙ… (Dark / Light / Neon / Random)"
    themeBtn.BackgroundColor3 = Color3.fromRGB(60,60,60)
    themeBtn.TextScaled = true
    themeBtn.MouseButton1Click:Connect(function()
        local themes = {"Dark","Light","Neon","Random"}
        local idx = table.find(themes, settings.theme) or 1
        local nextTheme = themes[(idx % #themes) + 1]
        settings.theme = nextTheme

        if nextTheme == "Dark" then
            mainFrame.BackgroundColor3 = Color3.fromRGB(30,30,30)
            contentFrame.BackgroundColor3 = Color3.fromRGB(35,35,35)
            sideBar.BackgroundColor3 = Color3.fromRGB(25,25,25)
        elseif nextTheme == "Light" then
            mainFrame.BackgroundColor3 = Color3.fromRGB(220,220,220)
            contentFrame.BackgroundColor3 = Color3.fromRGB(240,240,240)
            sideBar.BackgroundColor3 = Color3.fromRGB(200,200,200)
        elseif nextTheme == "Neon" then
            mainFrame.BackgroundColor3 = Color3.fromRGB(10,10,30)
            contentFrame.BackgroundColor3 = Color3.fromRGB(20,20,50)
            sideBar.BackgroundColor3 = Color3.fromRGB(15,15,40)
        elseif nextTheme == "Random" then
            mainFrame.BackgroundColor3 = Color3.fromHSV(math.random(),1,1)
            contentFrame.BackgroundColor3 = Color3.fromHSV(math.random(),1,1)
            sideBar.BackgroundColor3 = Color3.fromHSV(math.random(),1,1)
        end

        setStatus("ğŸ¨ Ø§Ù„Ø«ÙŠÙ…: "..nextTheme)
        pcall(saveSettings)
    end)

    local reloadBtn = Instance.new("TextButton", contentFrame)
    reloadBtn.Size = UDim2.new(1,-20,0,40)
    reloadBtn.Position = UDim2.new(0,10,0,y); y = y + 50
    reloadBtn.Text = "ğŸ”„ ØªØ­Ø¯ÙŠØ« HUB (ØªØ­Ù…ÙŠÙ„ Ø¢Ø®Ø± Ù†Ø³Ø®Ø©)"
    reloadBtn.BackgroundColor3 = Color3.fromRGB(60,60,60)
    reloadBtn.TextScaled = true
    reloadBtn.MouseButton1Click:Connect(function()
        setStatus("â³ Ø¬Ø§Ø±Ù ØªØ­Ø¯ÙŠØ« HUB...")
        -- Ø¶Ø¹ Ù‡Ù†Ø§ Ø±Ø§Ø¨Ø· Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ù…Ø­Ø¯Ø«Ø© Ø¥Ù† ÙˆÙØ¬Ø¯
        local ok, err = pcall(function()
            loadstring(game:HttpGet("https://your-link-to-latest-hub.lua"))()
        end)
        if not ok then
            setStatus("âŒ ÙØ´Ù„ Ø§Ù„ØªØ­Ø¯ÙŠØ«", Color3.fromRGB(255,80,80))
            warn("Failed to reload hub:", err)
        end
    end)

    local closeBtn = Instance.new("TextButton", contentFrame)
    closeBtn.Size = UDim2.new(1,-20,0,40)
    closeBtn.Position = UDim2.new(0,10,0,y); y = y + 50
    closeBtn.Text = "âŒ Ø¥ØºÙ„Ø§Ù‚ Ù†Ù‡Ø§Ø¦ÙŠ (Destroy GUI)"
    closeBtn.BackgroundColor3 = Color3.fromRGB(100,30,30)
    closeBtn.TextColor3 = Color3.fromRGB(255,255,255)
    closeBtn.TextScaled = true
    closeBtn.MouseButton1Click:Connect(function()
        pcall(function() saveSettings() end)
        sg:Destroy()
    end)

    -- Ø²Ø± Ø­ÙØ¸ ÙŠØ¯ÙˆÙŠ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)
    local saveBtn = Instance.new("TextButton", contentFrame)
    saveBtn.Size = UDim2.new(1,-20,0,28)
    saveBtn.Position = UDim2.new(0,10,0,y); y = y + 40
    saveBtn.Text = "ğŸ’¾ Ø­ÙØ¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¢Ù†"
    saveBtn.BackgroundColor3 = Color3.fromRGB(60,60,60)
    saveBtn.TextScaled = true
    saveBtn.MouseButton1Click:Connect(function()
        local ok = pcall(saveSettings)
        if ok then
            setStatus("ğŸ’¾ ØªÙ… Ø­ÙØ¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª")
        else
            setStatus("âš ï¸ Ø§Ù„Ø­ÙØ¸ ØºÙŠØ± Ù…ØªØ§Ø­ ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„Ù€ executor", Color3.fromRGB(255,200,0))
        end
    end)
end)

-- Ø²Ø± EMâš¡ (Ù‚Ø§Ø¨Ù„ Ù„Ù„Ø³Ø­Ø¨ + ÙˆÙ…ÙŠØ¶ + ÙŠØ®ÙÙŠ/ÙŠØ¸Ù‡Ø±)
local toggleBtn = Instance.new("TextButton", sg)
toggleBtn.Size = UDim2.new(0,70,0,40)
toggleBtn.Position = settingsToUDim2(settings.buttonPos)
toggleBtn.Text = "ğ‘¬ğ‘´âš¡"
toggleBtn.TextScaled = true
toggleBtn.Font = Enum.Font.Antique
toggleBtn.BackgroundTransparency = 1
toggleBtn.TextColor3 = Color3.fromRGB(255,255,0)
toggleBtn.BorderSizePixel = 0

-- ÙˆÙ…ÙŠØ¶ ØªØ¯Ø±Ø¬ÙŠ
local t = 0
RS.RenderStepped:Connect(function(dt)
    t = t + dt*2
    toggleBtn.TextColor3 = Color3.fromHSV(t % 1, 1, 1)
end)

-- Ø®Ø§ØµÙŠØ© Ø§Ù„Ø³Ø­Ø¨
local dragging = false
local dragInput, mousePos, framePos
toggleBtn.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = true
        mousePos = input.Position
        framePos = toggleBtn.Position
        input.Changed:Connect(function()
            if input.UserInputState == Enum.UserInputState.End then
                dragging = false
                -- Ø­ÙØ¸ Ù…ÙƒØ§Ù† Ø§Ù„Ø²Ø±
                local p = toggleBtn.Position
                settings.buttonPos = {scaleX = p.X.Scale, offsetX = p.X.Offset, scaleY = p.Y.Scale, offsetY = p.Y.Offset}
                pcall(saveSettings)
            end
        end)
    end
end)

toggleBtn.InputChanged:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseMovement then
        dragInput = input
    end
end)

UIS.InputChanged:Connect(function(input)
    if input == dragInput and dragging then
        local delta = input.Position - mousePos
        toggleBtn.Position = UDim2.new(framePos.X.Scale, framePos.X.Offset + delta.X, framePos.Y.Scale, framePos.Y.Offset + delta.Y)
    end
end)

toggleBtn.MouseButton1Click:Connect(function()
    settings.hubVisible = not settings.hubVisible
    mainFrame.Visible = settings.hubVisible
    pcall(saveSettings)
end)

-- ØªØ£ÙƒØ¯ Ù…Ù† ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø«ÙŠÙ… Ø§Ù„Ù…Ø­ÙÙˆØ¸ ÙÙˆØ±Ù‹Ø§
do
    local th = settings.theme or "Dark"
    if th == "Dark" then
        mainFrame.BackgroundColor3 = Color3.fromRGB(30,30,30)
        contentFrame.BackgroundColor3 = Color3.fromRGB(35,35,35)
        sideBar.BackgroundColor3 = Color3.fromRGB(25,25,25)
    elseif th == "Light" then
        mainFrame.BackgroundColor3 = Color3.fromRGB(220,220,220)
        contentFrame.BackgroundColor3 = Color3.fromRGB(240,240,240)
        sideBar.BackgroundColor3 = Color3.fromRGB(200,200,200)
    elseif th == "Neon" then
        mainFrame.BackgroundColor3 = Color3.fromRGB(10,10,30)
        contentFrame.BackgroundColor3 = Color3.fromRGB(20,20,50)
        sideBar.BackgroundColor3 = Color3.fromRGB(15,15,40)
    elseif th == "Random" then
        mainFrame.BackgroundColor3 = Color3.fromHSV(math.random(),1,1)
        contentFrame.BackgroundColor3 = Color3.fromHSV(math.random(),1,1)
        sideBar.BackgroundColor3 = Color3.fromHSV(math.random(),1,1)
    end
end

-- Ø­ÙØ¸ Ø§Ù„Ø­Ø§Ù„Ø© Ø¹Ù†Ø¯ Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø¬Ù„Ø³Ø© (Ø¥Ù† ÙˆÙØ¬Ø¯Øª)
pcall(function()
    game:BindToClose(function()
        pcall(saveSettings)
    end)
end)

-- Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„ÙƒÙˆØ¯
setStatus("âœ… ØªÙ… ØªØ­Ù…ÙŠÙ„ EMPERORxZON-HUB v3.3 (Full)", Color3.fromRGB(0,220,0))
